{"version":3,"sources":["shared/components/FormElements/Select/Select.module.css","assets/home.png","shared/hooks/auth-hook.js","shared/context/auth-context.js","shared/components/UIElements/Card/Card.js","shared/components/FormElements/Button.js","shared/components/UIElements/Backdrop/Backdrop.js","shared/components/UIElements/Modal/Modal.js","shared/hooks/http-hook.js","shared/components/UIElements/Error/ErrorModal.js","shared/components/UIElements/Loading/LoadingSpinner.js","shared/components/UIElements/Avatar/Avatar.js","posts/components/PostItem.js","posts/components/PostList.js","posts/components/AdminPostItem.js","shared/components/FormElements/Select/Select.js","posts/pages/AllPosts.js","users/components/UsersItem.js","users/pages/Profile.js","posts/pages/UserPosts.js","shared/components/Utils/validators.js","shared/components/FormElements/Input/Input.js","shared/hooks/form-hook.js","posts/pages/NewPost.js","posts/pages/UpdatePost.js","users/pages/UpdateUser.js","posts/pages/NewAdminPost.js","posts/pages/UpdateAdminPost.js","users/pages/Auth.js","shared/components/navigation/MainHeader.js","shared/components/navigation/NavLinks.js","shared/components/navigation/SideDrawer.js","shared/components/navigation/MainNavigation.js","users/components/UsersList.js","users/pages/Users.js","App.js","index.js"],"names":["module","exports","logoutTimer","AuthContext","createContext","isLoggedIn","isAdmin","userId","token","login","logout","Card","props","className","style","children","Button","href","size","inverse","danger","to","exact","type","onClick","disabled","Backdrop","ReactDOM","createPortal","document","getElementById","ModalOverlay","content","headerClass","header","onSubmit","event","preventDefault","contentClass","footerClass","footer","Modal","Fragment","show","onCancel","CSSTransition","in","timeout","mountOnEnter","unmountOnExit","classNames","useHttpClient","useState","isLoading","setIsLoading","error","setError","activeHttpRequests","useRef","sendRequest","useCallback","url","a","method","body","headers","httpAbortController","AbortController","current","push","fetch","signal","response","json","data","filter","req","ok","Error","message","useEffect","forEach","abortCtrl","abort","clearError","ErrorModal","onClear","LoadingSpinner","asOverlay","Avatar","src","image","alt","width","height","PostItem","auth","useContext","showConfirm","setShowConfirm","history","useHistory","closeConfirmHandler","confirmDeleteHandler","process","id","Authorization","go","creatorId","creatorImage","creatorName","category","title","address","description","PostList","items","length","map","place","key","creator","name","coordinate","location","AdminPostItem","Select","css","container","onChange","e","target","value","item","option","label","AllPosts","setFilter","titleSearch","setTitleSearch","loadedPosts","setLoadedPosts","loadedAdminPost","setLoadedAdminPost","posts","fetchAdminPost","fetchPosts","onInput","console","log","p","includes","UsersItem","email","postCount","Profile","userData","setUserData","useParams","user","fetchUserData","UserPosts","fetchPlaces","onDelete","deletedId","prevP","post","VALIDATOR_MINLENGTH","val","validate","validators","isValid","validator","trim","test","inputReducer","state","action","isTouched","Input","useReducer","initialValue","initialIsValid","inputState","dispatch","changeHandler","touchHandler","element","placeholder","onBlur","rows","htmlFor","errorText","formReducer","fromIsValid","inputId","inputs","formIsValid","useForm","initInputs","initialFormValidity","formState","inputData","formValidity","NewPost","inputChangeHandler","placeSubmitHandler","JSON","stringify","UpdatePost","loadedPost","setLoadedPost","postId","inputHandler","setFormData","placeUpdateSubmitHandler","fetchPost","UpdateUser","loadedUser","setLoadedUser","fetchUser","NewAdminPost","UpdateAdminPost","Auth","isLogin","setIsLogin","password","authSubmitHandler","undefined","prevMode","MainHeader","NavLinks","SideDrawer","MainNavigation","drawerIsOpen","setDrawerIsOpen","closeDrawer","HoneIcon","UsersList","Users","loadedUsers","setLoadedUsers","users","u","fetchUsers","App","routes","setToken","tokenExpirationDate","setTokenExpirationDate","setUserId","setIsAdmin","localStorage","removeItem","uid","expirationDate","tokenExpiration","Date","getTime","setItem","expiration","toISOString","storedData","parse","getItem","timeLeft","setTimeout","clearTimeout","useAuth","path","Provider","render"],"mappings":"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","file":"static/js/main.8b6e3f18.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Select_container__3fMTk\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAABpElEQVRoge3XsWvUYBzG8Y9yKIJVEXQoDjd2EVzsJDgIgpubbnVydtM/wdWxq5MgiCCO4mBBKAguLuLiIqIUWpCj2FodLm/PxrSXq7nkZ32/8EzJvXm+5PJ7EzK16ONlkX7HXfbNNazgZ5FVXO+00YQcwl38MJJI2cJ9HO6sXU1O4Ik/Bcp5jtMddRzLBXwwXiLlIy6W1tjt3NZYwGCPIrtlUPw2cQffK86bOkfxYB8C5TzEsWLNS/jUpsg5vG5AIuWN0Yg+gxdtiFzG5wYlUr7ianGNnuGE25qGQBqtm1OQSNnEveJacKNpiRk8nqJAOc9wqmmJObxrUSLlPc43JXET3zqQSBng1t8IpIetK4FyFnFkUomzdo6/KFnCbF2Jqg0pUr7gyjiJ26pfEaJlw3AbSCN6m+N4FKDgpHmKk7+LLBcH1gKUq5vUdZnRB84G3mK+fKsCM2/4frZOxX/M0PJfYEf38J+cdcki0cgi0cgi0eg1vF7VvrQXje1ZB+aOZJFoZJFoZJFoZJFoZJFoZJFoZJFoHGiRpdZbTM6rrgtk/ht+AZJi8ybhOtGyAAAAAElFTkSuQmCC\"","import {useCallback, useEffect, useState} from \"react\";\r\nlet logoutTimer;\r\n\r\nexport const useAuth = () => {\r\n    const [token, setToken] = useState(null);\r\n    const [tokenExpirationDate, setTokenExpirationDate] = useState(null);\r\n    const [userId, setUserId] = useState(null)\r\n    const [isAdmin, setIsAdmin] = useState(false)\r\n\r\n\r\n    const logout = useCallback(() => {\r\n        setToken(null);\r\n        setTokenExpirationDate(null)\r\n        setUserId(null)\r\n        setIsAdmin(false)\r\n        localStorage.removeItem('userData')\r\n    }, [])\r\n\r\n\r\n    const login = useCallback((uid, token,  isAdmin, expirationDate) => {\r\n        setToken(token);\r\n        setUserId(uid);\r\n        setIsAdmin(isAdmin)\r\n        const tokenExpiration = expirationDate || new Date(new Date().getTime() + 1000 * 60 * 60);\r\n        setTokenExpirationDate(tokenExpiration)\r\n        localStorage.setItem('userData',\r\n            JSON.stringify({\r\n                userId: uid,\r\n                token: token,\r\n                isAdmin: isAdmin,\r\n                expiration: tokenExpiration.toISOString()\r\n            }))\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const storedData = JSON.parse(localStorage.getItem('userData'));\r\n        if (storedData &&\r\n            storedData.token &&\r\n            new Date(storedData.expiration) > new Date()) {\r\n            login(storedData.userId, storedData.token, storedData.isAdmin, new Date(storedData.expiration))\r\n        }\r\n    }, [login])\r\n\r\n    useEffect(() => {\r\n        if (token && tokenExpirationDate) {\r\n            const timeLeft = tokenExpirationDate.getTime() - new Date().getTime()\r\n            logoutTimer = setTimeout(logout, timeLeft)\r\n        } else {\r\n            clearTimeout(logoutTimer)\r\n        }\r\n    }, [token, logout, tokenExpirationDate])\r\n\r\n    return {token, login, logout, userId, isAdmin}\r\n}","import {createContext} from \"react\";\r\n\r\nexport const AuthContext = createContext({\r\n    isLoggedIn : false,\r\n    isAdmin: false,\r\n    userId: null,\r\n    token: null,\r\n    login: () => {},\r\n    logout: () => {}\r\n});\r\n\r\n","import React from 'react';\r\nimport './Card.css';\r\n\r\nconst Card = props => {\r\n  return (\r\n    <div className={`card ${props.className}`} style={props.style}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './Button.css';\r\n\r\nconst Button = props => {\r\n  if (props.href) {\r\n    return (\r\n      <a\r\n        className={`button button--${props.size || 'default'} ${props.inverse &&\r\n          'button--inverse'} ${props.danger && 'button--danger'}`}\r\n        href={props.href}\r\n      >\r\n        {props.children}\r\n      </a>\r\n    );\r\n  }\r\n  if (props.to) {\r\n    return (\r\n      <Link\r\n        to={props.to}\r\n        exact={props.exact}\r\n        className={`button button--${props.size || 'default'} ${props.inverse &&\r\n          'button--inverse'} ${props.danger && 'button--danger'}`}\r\n      >\r\n        {props.children}\r\n      </Link>\r\n    );\r\n  }\r\n  return (\r\n    <button\r\n      className={`button button--${props.size || 'default'} ${props.inverse &&\r\n        'button--inverse'} ${props.danger && 'button--danger'}`}\r\n      type={props.type}\r\n      onClick={props.onClick}\r\n      disabled={props.disabled}\r\n    >\r\n      {props.children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './Backdrop.css';\r\n\r\nconst Backdrop = props => {\r\n  return ReactDOM.createPortal(\r\n    <div className=\"backdrop\" onClick={props.onClick}/>,\r\n    document.getElementById('backdrop-hook')\r\n  );\r\n};\r\n\r\nexport default Backdrop;\r\n","import React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport {CSSTransition} from \"react-transition-group\";\r\nimport Backdrop from \"../Backdrop/Backdrop\";\r\nimport './Modal.css';\r\n\r\n\r\nconst ModalOverlay = props => {\r\n    const content = (\r\n        <div className={`modal ${props.className}`} style={props.style}>\r\n            <header className={`modal-header ${props.headerClass}`}>\r\n                <h2>{props.header}</h2>\r\n            </header>\r\n            <form onSubmit={\r\n                props.onSubmit ? props.onSubmit : event => event.preventDefault()\r\n            }>\r\n            <div className={`modal-content ${props.contentClass}`}>\r\n                {props.children}\r\n            </div>\r\n                <footer className={`modal-footer ${props.footerClass}`}>\r\n                    {props.footer}\r\n                </footer>\r\n            </form>\r\n        </div>\r\n    )\r\n    return ReactDOM.createPortal(content, document.getElementById('modal-hook'))\r\n};\r\n\r\nconst Modal = props => {\r\n    return <React.Fragment>\r\n        {props.show && <Backdrop onClick={props.onCancel} />}\r\n        <CSSTransition\r\n            in={props.show}\r\n            timeout={200}\r\n            mountOnEnter\r\n            unmountOnExit\r\n            classNames=\"modal\"\r\n        >\r\n            <ModalOverlay {...props}/>\r\n        </CSSTransition>\r\n    </React.Fragment>\r\n};\r\n\r\nexport default Modal;","import {useCallback, useRef, useState, useEffect} from \"react\";\r\n\r\n\r\nexport const useHttpClient = () => {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState();\r\n\r\n    const activeHttpRequests = useRef([]);\r\n\r\n    const sendRequest = useCallback(async (\r\n        url, method = 'GET', body = null, headers = {}) => {\r\n        setIsLoading(true)\r\n\r\n        const httpAbortController = new AbortController();\r\n        activeHttpRequests.current.push(httpAbortController);\r\n\r\n        try {\r\n            const response = await fetch(url, {\r\n                method,\r\n                body,\r\n                headers,\r\n                signal: httpAbortController.signal\r\n            })\r\n\r\n            const data = await response.json();\r\n\r\n            activeHttpRequests.current = activeHttpRequests.current.filter(\r\n                req =>  req !== httpAbortController\r\n            );\r\n\r\n            if(!response.ok) { // 400 or 500 code\r\n                throw new Error(data.message)\r\n            }\r\n            setIsLoading(false)\r\n            return data;\r\n        }catch (e) {\r\n            setError(e.message);\r\n            setIsLoading(false)\r\n            throw e;\r\n        }\r\n\r\n    }, [])\r\n\r\n    const clearError = () => {\r\n        setError(null)\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            activeHttpRequests.current.forEach(abortCtrl => abortCtrl.abort())\r\n        };\r\n    }, [])\r\n\r\n    return {isLoading, error, sendRequest, clearError}\r\n}","import React from 'react';\r\n\r\nimport Modal from '../Modal/Modal';\r\nimport Button from '../../FormElements/Button';\r\n\r\nconst ErrorModal = props => {\r\n  return (\r\n    <Modal\r\n      onCancel={props.onClear}\r\n      header=\"An Error Occurred!\"\r\n      show={!!props.error}\r\n      footer={<Button onClick={props.onClear}>Okay</Button>}\r\n    >\r\n      <p>{props.error}</p>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ErrorModal;\r\n","import React from 'react';\r\n\r\nimport './LoadingSpinner.css';\r\n\r\nconst LoadingSpinner = props => {\r\n  return (\r\n    <div className={`${props.asOverlay && 'loading-spinner__overlay'}`}>\r\n      <div className=\"lds-dual-ring\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingSpinner;\r\n","import React from 'react';\r\n\r\nimport './Avatar.css';\r\n\r\nconst Avatar = props => {\r\n  return (\r\n    <div className={`avatar ${props.className}`} style={props.style}>\r\n      <img\r\n        src={props.image}\r\n        alt={props.alt}\r\n        style={{ width: props.width, height: props.width }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Avatar;\r\n","import React, {useState, useContext} from \"react\";\r\nimport Card from \"../../shared/components/UIElements/Card/Card\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport Modal from \"../../shared/components/UIElements/Modal/Modal\";\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\n\r\n\r\nimport './PostItem.css'\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport Avatar from \"../../shared/components/UIElements/Avatar/Avatar\";\r\nimport {Link, useHistory} from \"react-router-dom\";\r\n\r\n\r\nconst PostItem = props => {\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const auth = useContext(AuthContext);\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n    const history = useHistory();\r\n    const openConfirmHandler = () => setShowConfirm(true);\r\n    const closeConfirmHandler = () => setShowConfirm(false);\r\n    const confirmDeleteHandler = async () => {\r\n        closeConfirmHandler();\r\n        try {\r\n            await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/posts/${props.id}`,\r\n                'DELETE',\r\n                null,\r\n                {Authorization: 'Bearer ' + auth.token}\r\n            )\r\n        }catch (e) {\r\n\r\n        }\r\n        finally {\r\n            history.push('/'); // redirect\r\n            history.go(0)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n\r\n            <Modal\r\n                show={showConfirm}\r\n                onCancel={closeConfirmHandler}\r\n                header=\"Delete your place?\"\r\n                contentClass=\"place-item-modal-content\"\r\n                footerClass=\"place-item-modal-actions\"\r\n                footer={\r\n                    <React.Fragment>\r\n                        <Button inverse onClick={closeConfirmHandler}>Cancel</Button>\r\n                        <Button  danger onClick={confirmDeleteHandler}>DELETE</Button>\r\n                    </React.Fragment>\r\n                }>\r\n                <p>Post can't be restored</p>\r\n            </Modal>\r\n\r\n            <li className='place-item'>\r\n                <Card className='place-item-content'>\r\n                    {isLoading && <LoadingSpinner asOverlay/>}\r\n                    <div className='place-item-info'>\r\n                        <div className={\"author-data\"}>\r\n                            <Link to={`/users/${props.creatorId}`}>\r\n                                <div className=\"user-item-image\">\r\n                                    <Avatar image={props.creatorImage} alt={\"\"}/>\r\n                                </div>\r\n                                <div className=\"user-item-info\">\r\n                                    <h3>{props.creatorName}</h3>\r\n                                    <h3>{props.category}</h3>\r\n                                </div>\r\n                            </Link>\r\n                        </div>\r\n                        <h2>{props.title}</h2>\r\n                        <h3>{props.address}</h3>\r\n                        <p>{props.description}</p>\r\n                    </div>\r\n                    <div className='place-item-image'>\r\n                        <img src={props.image} alt={props.title}/>\r\n                    </div>\r\n                    <div className='place-item-actions'>\r\n                        {(auth.userId === props.creatorId || auth.isAdmin) && <Button danger onClick={openConfirmHandler}>DELETE</Button>}\r\n                        {auth.userId === props.creatorId &&  <Button to={`/posts/${props.id}`}>EDIT</Button>}\r\n                    </div>\r\n                </Card>\r\n            </li>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default PostItem;","import React from \"react\";\r\n\r\nimport './PostList.css'\r\nimport Card from \"../../shared/components/UIElements/Card/Card\";\r\nimport PostItem from \"./PostItem\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\n\r\nconst PostList = props => {\r\n    if(props.items.length === 0) {\r\n        return <div className=\"place-list center\">\r\n            <Card>\r\n                <h2>No places found.</h2>\r\n                <Button\r\n                    to='/places/new'>\r\n                    Create one?\r\n                </Button>\r\n            </Card>\r\n        </div>\r\n    }\r\n\r\n    return <ul className=\"place-list\">\r\n        {props.items.map(place => {\r\n            return <PostItem\r\n                key={place.id}\r\n                id={place.id}\r\n                image={place.image}\r\n                title={place.title}\r\n                description={place.description}\r\n                address={place.address}\r\n                category={place.category}\r\n                creatorId={place.creator.id}\r\n                creatorName={place.creator.name}\r\n                creatorImage={place.creator.image}\r\n                coordinate={place.location}\r\n                />\r\n        })}\r\n    </ul>\r\n}\r\n\r\nexport default PostList;","import React, {useState, useContext} from \"react\";\r\nimport Card from \"../../shared/components/UIElements/Card/Card\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport Modal from \"../../shared/components/UIElements/Modal/Modal\";\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nimport './PostItem.css'\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\n\r\n\r\nconst AdminPostItem = props => {\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const auth = useContext(AuthContext);\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n\r\n    const history = useHistory();\r\n    const openConfirmHandler = () => setShowConfirm(true);\r\n    const closeConfirmHandler = () => setShowConfirm(false);\r\n    const confirmDeleteHandler = async () => {\r\n        closeConfirmHandler();\r\n        try {\r\n            await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/admin/post/${props.id}`,\r\n                'DELETE',\r\n                null,\r\n                {Authorization: 'Bearer ' + auth.token}\r\n            )\r\n        }catch (e) {\r\n\r\n        }finally {\r\n            history.push('/'); // redirect\r\n            history.go(0)\r\n\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n\r\n            <Modal\r\n                show={showConfirm}\r\n                onCancel={closeConfirmHandler}\r\n                header=\"Delete your post?\"\r\n                contentClass=\"place-item-modal-content\"\r\n                footerClass=\"place-item-modal-actions\"\r\n                footer={\r\n                    <React.Fragment>\r\n                        <Button inverse onClick={closeConfirmHandler}>Cancel</Button>\r\n                        <Button  danger onClick={confirmDeleteHandler}>DELETE</Button>\r\n                    </React.Fragment>\r\n                }>\r\n                <p>Post can't be restored</p>\r\n            </Modal>\r\n\r\n\r\n                <Card className='place-item-content'>\r\n                    {isLoading && <LoadingSpinner asOverlay/>}\r\n                    <div className='place-item-info'>\r\n                        <h2>{props.title}</h2>\r\n                        <p>{props.description}</p>\r\n                    </div>\r\n                    <div className='place-item-image'>\r\n                        <img src={props.image} alt={props.title}/>\r\n                    </div>\r\n                    <div className='place-item-actions'>\r\n                        {auth.isAdmin &&  <Button to={`/posts/${props.id}`}>EDIT</Button>}\r\n                        {auth.isAdmin && <Button danger onClick={openConfirmHandler}>DELETE</Button>}\r\n                    </div>\r\n                </Card>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AdminPostItem;","import React from \"react\";\r\nimport css from \"./Select.module.css\";\r\n\r\nfunction Select(props) {\r\n    return (\r\n        <div className={css.container}>\r\n            <select\r\n                name=\"type\"\r\n                id=\"type\"\r\n                onChange={(e) => props.onChange(e.target.value)}\r\n            >\r\n                place\r\n                {props.items.map((item) => (\r\n                    <option className={css.option} key={item.id} value={item.value}>\r\n                        {item.label}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Select;\r\n","import React, {useEffect, useState} from \"react\";\r\nimport PostList from \"../components/PostList\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport AdminPostItem from \"../components/AdminPostItem\";\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport Select from \"../../shared/components/FormElements/Select/Select\";\r\n\r\n\r\nconst AllPosts = props => {\r\n    const [filter, setFilter] = useState(\"none\");\r\n    const [titleSearch, setTitleSearch] = useState(\"\");\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const [loadedPosts, setLoadedPosts] = useState([]);\r\n    const [loadedAdminPost, setLoadedAdminPost] = useState();\r\n\r\n    const inputChangeHandler = (event) => {\r\n        console.log('change ', event.target.value);\r\n        setTitleSearch(event.target.value);\r\n    }\r\n\r\n    const FilterType = [\r\n        { id: 1, label: \"Select Category\", value: \"none\" },\r\n        { id: 2, label: \"Sport\", value: \"sport\" },\r\n        { id: 3, label: \"Politics\", value: \"politics\" },\r\n        { id: 4, label: \"Economics\", value: \"economics\" },\r\n        { id: 5, label: \"Culture\", value: \"culture\" },\r\n    ];\r\n\r\n    const handleFilter = (value) => {\r\n        setFilter(value);\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchAdminPost = async () => {\r\n            try {\r\n                const data = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/admin/post`);\r\n                setLoadedAdminPost(data.posts[0])\r\n            }catch (e) {\r\n\r\n            }\r\n\r\n        }\r\n        fetchAdminPost();\r\n    }, [sendRequest])\r\n\r\n    useEffect(() => {\r\n        const fetchPosts= async () => {\r\n            try {\r\n                const data = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/posts`);\r\n                setLoadedPosts(data.posts)\r\n            }catch (e) {\r\n\r\n            }\r\n\r\n        }\r\n        fetchPosts();\r\n    }, [sendRequest])\r\n\r\n\r\n    return <React.Fragment>\r\n        {isLoading && <div className=\"center\">\r\n            <LoadingSpinner/>\r\n        </div>}\r\n\r\n       \r\n        {!isLoading && loadedAdminPost &&\r\n        <AdminPostItem\r\n            id={loadedAdminPost?.id}\r\n            title={loadedAdminPost?.title}\r\n            description={loadedAdminPost?.description}\r\n            image={loadedAdminPost?.image}/>\r\n        }\r\n\r\n        <div className=\"filters\">\r\n            <Select items={FilterType} onChange={handleFilter} />\r\n            <input\r\n                id=\"title\"\r\n                type='text'\r\n                onInput={inputChangeHandler}/>\r\n        </div>\r\n\r\n\r\n        {!isLoading && !loadedPosts &&\r\n            <h2>No users posts available</h2>\r\n        }\r\n        {!isLoading && loadedPosts &&\r\n             <PostList items={loadedPosts.filter((p)=>{\r\n                 if(filter !== 'none' && titleSearch) {\r\n                     return p.category === filter && p.title.includes(titleSearch);\r\n                 }else if(filter !== 'none' && !titleSearch) {\r\n                     return p.category === filter;\r\n                 }else if(filter === 'none' && titleSearch) {\r\n                     return p.title.includes(titleSearch);\r\n                 }\r\n                 else{\r\n                     return p;\r\n                 }\r\n             })}/>\r\n        }\r\n    </React.Fragment>\r\n\r\n\r\n\r\n}\r\n\r\nexport default AllPosts;","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Avatar from '../../shared/components/UIElements/Avatar/Avatar';\r\nimport Card from \"../../shared/components/UIElements/Card/Card\";\r\nimport './UserItem.css';\r\n\r\nconst UsersItem = props => {\r\n    return <li className=\"user-item\">\r\n            <Card className=\"user-item-content\">\r\n                <Link to={`/${props.id}/posts`}>\r\n                    <div className=\"user-item-image\">\r\n                        <Avatar image={props.image} alt={props.name}/>\r\n                    </div>\r\n                    <div className=\"user-item-info\">\r\n                        <div>\r\n                            <h2>{props.name}</h2>\r\n                            <h3>{props.email}</h3>\r\n                        </div>\r\n                        <div>\r\n                            <h3>\r\n                                {props.postCount}\r\n                                {props.postCount === 1 ? ' Post' : ' Posts'}\r\n                            </h3>\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n            </Card>\r\n    </li>\r\n};\r\n\r\nexport default UsersItem;","import React, {useEffect, useState, useContext} from \"react\";\r\nimport {Link, useHistory, useParams} from \"react-router-dom\";\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport UsersItem from \"../components/UsersItem\";\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport Modal from \"../../shared/components/UIElements/Modal/Modal\";\r\nimport './Profile.css'\r\n\r\nconst Profile = () => {\r\n    const auth = useContext(AuthContext);\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const [userData, setUserData] = useState();\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n    const history = useHistory();\r\n    const creatorId = useParams().userId;\r\n\r\n    useEffect(()=> {\r\n        let id = auth.userId;\r\n        if(creatorId !== auth.userId) {\r\n            id = creatorId;\r\n        }\r\n        const fetchUserData= async () => {\r\n            try {\r\n                const data = await  sendRequest(`${process.env.REACT_APP_BACKEND_URL}/users/${id}`,\r\n                    'GET',\r\n                    null,\r\n                    {Authorization: 'Bearer ' + auth.token});\r\n                setUserData(data.user);\r\n            }catch (e) {\r\n            }\r\n        }\r\n        fetchUserData();\r\n    },[sendRequest])\r\n\r\n\r\n    const openConfirmHandler = () => setShowConfirm(true);\r\n    const closeConfirmHandler = () => setShowConfirm(false);\r\n    const confirmDeleteHandler = async () => {\r\n        closeConfirmHandler();\r\n        try {\r\n            await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/users/${auth.userId}`,\r\n                'DELETE',\r\n                null,\r\n                {Authorization: 'Bearer ' + auth.token}\r\n            )\r\n            auth.logout();\r\n        }catch (e) {\r\n\r\n        }\r\n    }\r\n\r\n    const showPostHandler = () => {\r\n        let id = auth.userId;\r\n        if(creatorId !== auth.userId) {\r\n            id = creatorId;\r\n        }\r\n        history.push(`/${id}/posts`);\r\n    }\r\n\r\n    return <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError}/>\r\n        <Modal\r\n            show={showConfirm}\r\n            onCancel={closeConfirmHandler}\r\n            header=\"Delete your profile?\"\r\n            contentClass=\"place-item-modal-content\"\r\n            footerClass=\"place-item-modal-actions\"\r\n            footer={\r\n                <React.Fragment>\r\n                    <Button inverse onClick={closeConfirmHandler}>Cancel</Button>\r\n                    <Button  danger onClick={confirmDeleteHandler}>DELETE</Button>\r\n                </React.Fragment>\r\n            }>\r\n            <p>Profile can't be restored</p>\r\n        </Modal>\r\n        {isLoading && <div className=\"center\">\r\n            <LoadingSpinner/>\r\n        </div>}\r\n        {!isLoading && userData && <div className={\"user-profile\"}>\r\n            <UsersItem\r\n                key={userData.id}\r\n                id={userData.id}\r\n                image={userData.image}\r\n                name={userData.name}\r\n                email={userData.email}\r\n                postCount={userData.posts.length}/>\r\n            <div className={\"user-profile-controls\"}>\r\n                {auth.isLoggedIn && auth.userId === creatorId && <Button danger onClick={openConfirmHandler}>DELETE PROFILE</Button>}\r\n                {auth.isLoggedIn && <Button inverse onClick={showPostHandler}>SHOW POSTS</Button>}\r\n                {auth.isLoggedIn && <Button to={`/update/${userData.id}`}>EDIT PROFILE</Button>}\r\n            </div>\r\n        </div>}\r\n    </React.Fragment>\r\n}\r\n\r\nexport default Profile;","import React, {useEffect, useState} from \"react\";\r\nimport PostList from \"../components/PostList\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\n\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\n\r\n\r\nconst UserPosts = props => {\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const [loadedPosts, setLoadedPosts] = useState();\r\n    const userId = useParams().userId;\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        const fetchPlaces = async () => {\r\n            try {\r\n                const data = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/posts/user/${userId}`);\r\n                setLoadedPosts(data.posts)\r\n            }catch (e) {\r\n                history.push('/');\r\n            }\r\n\r\n        }\r\n        fetchPlaces();\r\n    }, [sendRequest, userId])\r\n\r\n    const deleteHandler = (deletedId) => {\r\n        setLoadedPosts(prevP => prevP.filter(post => post.id !== deletedId))\r\n    }\r\n\r\n    return <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError}/>\r\n        {isLoading && <div className=\"center\">\r\n            <LoadingSpinner/>\r\n        </div>}\r\n        {!isLoading && loadedPosts &&\r\n        <PostList items={loadedPosts} onDelete={deleteHandler}/>}\r\n    </React.Fragment>\r\n\r\n\r\n\r\n}\r\n\r\nexport default UserPosts;","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\r\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\r\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\r\nconst VALIDATOR_TYPE_MIN = 'MIN';\r\nconst VALIDATOR_TYPE_MAX = 'MAX';\r\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\r\nconst VALIDATOR_TYPE_FILE = 'FILE';\r\n\r\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\r\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\r\nexport const VALIDATOR_MINLENGTH = val => ({\r\n  type: VALIDATOR_TYPE_MINLENGTH,\r\n  val: val\r\n});\r\nexport const VALIDATOR_MAXLENGTH = val => ({\r\n  type: VALIDATOR_TYPE_MAXLENGTH,\r\n  val: val\r\n});\r\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\r\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\r\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\r\n\r\nexport const validate = (value, validators) => {\r\n  let isValid = true;\r\n  for (const validator of validators) {\r\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\r\n      isValid = isValid && value.trim().length > 0;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\r\n      isValid = isValid && value.trim().length >= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\r\n      isValid = isValid && value.trim().length <= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MIN) {\r\n      isValid = isValid && +value >= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAX) {\r\n      isValid = isValid && +value <= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\r\n      isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\r\n    }\r\n  }\r\n  return isValid;\r\n};\r\n","import React, {useEffect, useReducer, useState} from \"react\";\r\nimport {validate} from \"../../Utils/validators\";\r\n\r\n\r\nimport './Input.css';\r\n\r\nconst inputReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'CHANGE':\r\n            return {\r\n                ...state,\r\n                value: action.val,\r\n                isValid: validate(action.val, action.validators)\r\n            };\r\n        case 'TOUCH':\r\n            return {\r\n                ...state,\r\n                isTouched : true\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst Input = props => {\r\n    const [inputState, dispatch] = useReducer(inputReducer,\r\n        {\r\n            value: props.initialValue || \"\",\r\n            isValid: props.initialIsValid || \"\",\r\n            isTouched: false\r\n        });\r\n\r\n    const {id, onInput} = props;\r\n    const {value, isValid} = inputState;\r\n\r\n    useEffect(() => {\r\n        props.onInput(id, value, isValid);\r\n    },[id, value, isValid, onInput])\r\n\r\n    const changeHandler = event => {\r\n        dispatch({\r\n            type: 'CHANGE',\r\n            val: event.target.value,\r\n            validators: props.validators\r\n        })\r\n    }\r\n\r\n    const touchHandler =() => {\r\n        dispatch({\r\n            type: 'TOUCH'\r\n        })\r\n    }\r\n\r\n    const element = props.element === 'input' ?\r\n        <input\r\n            id={props.id}\r\n            type={props.type}\r\n            placeholder={props.placeholder}\r\n            onChange={changeHandler}\r\n            onBlur={touchHandler}\r\n            value={inputState.value}/>\r\n\r\n        : <textarea\r\n            id={props.id}\r\n            rows={props.rows || 3}\r\n            onBlur={touchHandler}\r\n            onChange={changeHandler}\r\n            value={inputState.value}/>\r\n\r\n\r\n    return <div className={`form-control ${!inputState.isValid && \r\n    inputState.isTouched && 'form-control-invalid'}`}>\r\n        <label\r\n            htmlFor={props.id}>\r\n            {props.label}\r\n        </label>\r\n        {element}\r\n        {!inputState.isValid && inputState.isTouched && <p>{props.errorText}</p>}\r\n    </div>\r\n}\r\n\r\nexport default Input;","import {useCallback, useReducer} from 'react';\r\n\r\n\r\nconst formReducer = (state,action) => {\r\n    switch (action.type) {\r\n        case  'INPUT_CHANGE':\r\n            let fromIsValid = true;\r\n            for(const inputId in state.inputs) {\r\n\r\n                if(!state.inputs[inputId]) {\r\n                    continue;\r\n                }\r\n\r\n                if(inputId === action.inputId) {\r\n                    fromIsValid = fromIsValid && action.isValid;\r\n                }else{\r\n                    fromIsValid = fromIsValid && state.inputs[inputId].isValid;\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                inputs: {\r\n                    ...state.inputs,\r\n                    [action.inputId] : {value: action.value, isValid: action.isValid}\r\n                },\r\n                isValid: fromIsValid\r\n            };\r\n        case  'SET_DATA':\r\n            return {\r\n                inputs: action.inputs,\r\n                isValid: action.formIsValid\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const useForm = (initInputs, initialFormValidity) => {\r\n    const [formState, dispatch]= useReducer(formReducer, {\r\n        inputs: initInputs,\r\n        isValid: initialFormValidity\r\n    })\r\n\r\n    const inputHandler = useCallback((id, value, isValid) => {\r\n        dispatch({\r\n            type: 'INPUT_CHANGE',\r\n            value: value,\r\n            isValid: isValid,\r\n            inputId: id})\r\n    },[]);\r\n\r\n\r\n    const setFormData = useCallback((inputData, formValidity) => {\r\n        dispatch({\r\n            type : 'SET_DATA',\r\n            inputs: inputData,\r\n            formIsValid: formValidity\r\n        })\r\n    },[])\r\n\r\n    return [formState, inputHandler, setFormData];\r\n\r\n}\r\n\r\n","import React, {useContext, useState} from \"react\";\r\nimport Input from \"../../shared/components/FormElements/Input/Input\";\r\nimport {VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE} from \"../../shared/components/Utils/validators\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport {useForm} from \"../../shared/hooks/form-hook\";\r\nimport './PostForm.css';\r\nimport Select from \"../../shared/components/FormElements/Select/Select\";\r\n\r\nconst NewPost = () => {\r\n    const [filter, setFilter] = useState(\"none\");\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const auth = useContext(AuthContext)\r\n\r\n    const [formState, inputChangeHandler] = useForm({\r\n        title: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        description: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        address: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n\r\n    },false)\r\n\r\n    const FilterType = [\r\n        { id: 1, label: \"Select Category\", value: \"none\" },\r\n        { id: 2, label: \"Sport\", value: \"sport\" },\r\n        { id: 3, label: \"Politics\", value: \"politics\" },\r\n        { id: 4, label: \"Economics\", value: \"economics\" },\r\n        { id: 5, label: \"Culture\", value: \"culture\" },\r\n    ];\r\n\r\n    const handleFilter = (value) => {\r\n        setFilter(value);\r\n    };\r\n\r\n   const history = useHistory();\r\n\r\n   const placeSubmitHandler = async event => {\r\n       event.preventDefault();\r\n       try {\r\n           await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/posts`,\r\n               'POST',\r\n               JSON.stringify({\r\n                   title: formState.inputs.title.value,\r\n                   description : formState.inputs.description.value,\r\n                   address : formState.inputs.address.value,\r\n                   category: filter\r\n               }),\r\n               {'Content-Type': 'application/json',\r\n               Authorization: 'Bearer ' + auth.token}\r\n           )\r\n        history.push('/'); // redirect\r\n       }catch (e) {\r\n           \r\n       }\r\n\r\n   }\r\n   \r\n\r\n    return <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError}/>\r\n        <form className=\"place-form\" onSubmit={placeSubmitHandler}>\r\n            {isLoading && <LoadingSpinner asOverlay/>}\r\n            <Input\r\n                id=\"title\"\r\n                element='input'\r\n                type='text'\r\n                label='Title'\r\n                validators={[VALIDATOR_REQUIRE()]}\r\n                onInput={inputChangeHandler}\r\n                errorText=\"Please enter a valid title\"/>\r\n\r\n            <Input\r\n                id=\"description\"\r\n                element='textarea'\r\n                label='Description'\r\n                validators={[VALIDATOR_MINLENGTH(5)]}\r\n                onInput={inputChangeHandler}\r\n                errorText=\"Please enter a valid description.\"/>\r\n\r\n            <Select items={FilterType} onChange={handleFilter} />\r\n\r\n            <Input\r\n                id=\"address\"\r\n                element='input'\r\n                label='Address'\r\n                validators={[VALIDATOR_REQUIRE()]}\r\n                onInput={inputChangeHandler}\r\n                errorText=\"Please enter a valid address\"/>\r\n\r\n            <Button type=\"submit\" disabled={!formState.isValid}>ADD PLACE</Button>\r\n        </form>\r\n    </React.Fragment>\r\n\r\n};\r\n\r\nexport default NewPost;","import React, {useContext, useEffect, useState} from \"react\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport Input from \"../../shared/components/FormElements/Input/Input\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport {VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE} from \"../../shared/components/Utils/validators\";\r\nimport {useForm} from \"../../shared/hooks/form-hook\";\r\nimport Card from \"../../shared/components/UIElements/Card/Card\";\r\n\r\nimport './PostForm.css';\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\n\r\nconst UpdatePost = () => {\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const [loadedPost, setLoadedPost] = useState();\r\n    const postId = useParams().postId;\r\n    const auth = useContext(AuthContext)\r\n    const history = useHistory();\r\n\r\n    const [formState, inputHandler, setFormData] = useForm({\r\n        title: {\r\n            value: '',\r\n            isValid: true\r\n        },\r\n        description: {\r\n            value: '',\r\n            isValid: true\r\n        }\r\n    }, true)\r\n\r\n    const placeUpdateSubmitHandler = async event => {\r\n        event.preventDefault();\r\n        try {\r\n            await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/posts/${postId}`,\r\n                'PATCH',\r\n                JSON.stringify({\r\n                    title: formState.inputs.title.value,\r\n                    description : formState.inputs.description.value,\r\n                }),\r\n                {'Content-Type': 'application/json',\r\n                Authorization: 'Bearer ' + auth.token}\r\n            )\r\n            history.push('/' + auth.userId + '/posts');\r\n        }catch (e) {\r\n\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchPost = async() => {\r\n            try {\r\n                const data = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/posts/${postId}`);\r\n                setLoadedPost(data.post)\r\n\r\n                setFormData(\r\n                    {\r\n                        title: {\r\n                            value: data.post.title,\r\n                            isValid: true\r\n                        },\r\n                        description: {\r\n                            value: data.post.description,\r\n                            isValid: true\r\n                        }\r\n                    },true)\r\n            }\r\n            catch (e) {\r\n\r\n            }\r\n        }\r\n        fetchPost();\r\n    },[setFormData, postId, sendRequest])\r\n\r\n\r\n    if(isLoading) {\r\n        return <div className=\"center\">\r\n            <LoadingSpinner/>\r\n        </div>\r\n    }\r\n\r\n    if(!loadedPost && !error){\r\n        return <div className=\"center\">\r\n            <Card>\r\n                <h2>Couldn't fetch post</h2>\r\n            </Card>\r\n        </div>\r\n    }\r\n\r\n\r\n\r\n    return <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError}/>\r\n        {!isLoading && loadedPost && <form className='place-form' onSubmit={placeUpdateSubmitHandler}>\r\n            <Input\r\n                id=\"title\"\r\n                element='input'\r\n                type='text'\r\n                label='Title'\r\n                validators={[VALIDATOR_REQUIRE()]}\r\n                onInput={inputHandler}\r\n                initialValue={loadedPost.title}\r\n                initialIsValid={true}\r\n                errorText=\"Please enter a valid title\"/>\r\n\r\n            <Input\r\n                id=\"description\"\r\n                element='textarea'\r\n                label='Description'\r\n                validators={[VALIDATOR_MINLENGTH(5)]}\r\n                onInput={inputHandler}\r\n                initialValue={loadedPost.description}\r\n                initialIsValid={true}\r\n                errorText=\"Please enter a valid description.\"/>\r\n\r\n            <Button type=\"submit\" disabled={!formState.isValid}>UPDATE PLACE</Button>\r\n        </form>}\r\n    </React.Fragment>\r\n\r\n}\r\n\r\nexport default UpdatePost;","import React, {useContext, useEffect, useState} from \"react\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport Input from \"../../shared/components/FormElements/Input/Input\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport {VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE} from \"../../shared/components/Utils/validators\";\r\nimport {useForm} from \"../../shared/hooks/form-hook\";\r\nimport Card from \"../../shared/components/UIElements/Card/Card\";\r\n\r\nimport '../../posts/pages/PostForm.css';\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\n\r\nconst UpdateUser = () => {\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const [loadedUser, setLoadedUser] = useState();\r\n    const userId = useParams().userId;\r\n    const auth = useContext(AuthContext)\r\n    const history = useHistory();\r\n\r\n    const [formState, inputHandler, setFormData] = useForm({\r\n        email: {\r\n            value: '',\r\n            isValid: true\r\n        },\r\n        name: {\r\n            value: '',\r\n            isValid: true\r\n        }\r\n    }, true)\r\n\r\n    const placeUpdateSubmitHandler = async event => {\r\n        event.preventDefault();\r\n        try {\r\n            await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/users/${userId}`,\r\n                'PATCH',\r\n                JSON.stringify({\r\n                    email: formState.inputs.email.value,\r\n                    name : formState.inputs.name.value,\r\n                }),\r\n                {'Content-Type': 'application/json',\r\n                    Authorization: 'Bearer ' + auth.token}\r\n            )\r\n            history.push('/users/' + auth.userId);\r\n        }catch (e) {\r\n\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchUser = async() => {\r\n            try {\r\n                const data = await  sendRequest(`${process.env.REACT_APP_BACKEND_URL}/users/${auth.userId}`,\r\n                    'GET',\r\n                    null,\r\n                    {Authorization: 'Bearer ' + auth.token});\r\n                setLoadedUser(data.user);\r\n\r\n                setFormData(\r\n                    {\r\n                        email: {\r\n                            value: data.user.email,\r\n                            isValid: true\r\n                        },\r\n                        name: {\r\n                            value: data.user.name,\r\n                            isValid: true\r\n                        }\r\n                    },true)\r\n            }\r\n            catch (e) {\r\n\r\n            }\r\n        }\r\n        fetchUser();\r\n    },[setFormData, userId, sendRequest])\r\n\r\n\r\n    if(isLoading) {\r\n        return <div className=\"center\">\r\n            <LoadingSpinner/>\r\n        </div>\r\n    }\r\n\r\n    if(!loadedUser && !error){\r\n        return <div className=\"center\">\r\n            <Card>\r\n                <h2>Couldn't fetch user</h2>\r\n            </Card>\r\n        </div>\r\n    }\r\n\r\n\r\n\r\n    return <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError}/>\r\n        {!isLoading && loadedUser && <form className='place-form' onSubmit={placeUpdateSubmitHandler}>\r\n            <Input\r\n                id=\"email\"\r\n                element='input'\r\n                type='text'\r\n                label='Email'\r\n                validators={[VALIDATOR_REQUIRE()]}\r\n                onInput={inputHandler}\r\n                initialValue={loadedUser.email}\r\n                initialIsValid={true}\r\n                errorText=\"Please enter a valid email\"/>\r\n\r\n            <Input\r\n                id=\"name\"\r\n                element='textarea'\r\n                label='Name'\r\n                validators={[VALIDATOR_MINLENGTH(5)]}\r\n                onInput={inputHandler}\r\n                initialValue={loadedUser.name}\r\n                initialIsValid={true}\r\n                errorText=\"Please enter a valid name.\"/>\r\n\r\n            <Button type=\"submit\" disabled={!formState.isValid}>UPDATE USER</Button>\r\n        </form>}\r\n    </React.Fragment>\r\n\r\n}\r\n\r\nexport default UpdateUser;","import React, {useContext} from \"react\";\r\nimport Input from \"../../shared/components/FormElements/Input/Input\";\r\nimport {VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE} from \"../../shared/components/Utils/validators\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\n\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport {useForm} from \"../../shared/hooks/form-hook\";\r\nimport './PostForm.css';\r\n\r\nconst NewAdminPost = () => {\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const auth = useContext(AuthContext)\r\n\r\n    const [formState, inputChangeHandler] = useForm({\r\n        title: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        description: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n    },false)\r\n\r\n    const history = useHistory();\r\n\r\n    const placeSubmitHandler = async event => {\r\n        event.preventDefault();\r\n        try {\r\n            await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/admin/post`,\r\n                'POST',\r\n                JSON.stringify({\r\n                    title: formState.inputs.title.value,\r\n                    description : formState.inputs.description.value,\r\n                }),\r\n                {'Content-Type': 'application/json',\r\n                    Authorization: 'Bearer ' + auth.token}\r\n            )\r\n            history.push('/'); // redirect\r\n        }catch (e) {\r\n\r\n        }\r\n\r\n    }\r\n\r\n    return <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError}/>\r\n        <form className=\"place-form\" onSubmit={placeSubmitHandler}>\r\n            {isLoading && <LoadingSpinner asOverlay/>}\r\n            <Input\r\n                id=\"title\"\r\n                element='input'\r\n                type='text'\r\n                label='Title'\r\n                validators={[VALIDATOR_REQUIRE()]}\r\n                onInput={inputChangeHandler}\r\n                errorText=\"Please enter a valid title\"/>\r\n\r\n            <Input\r\n                id=\"description\"\r\n                element='textarea'\r\n                label='Description'\r\n                validators={[VALIDATOR_MINLENGTH(5)]}\r\n                onInput={inputChangeHandler}\r\n                errorText=\"Please enter a valid description.\"/>\r\n\r\n            <Button type=\"submit\" disabled={!formState.isValid}>ADD POST</Button>\r\n        </form>\r\n    </React.Fragment>\r\n\r\n};\r\n\r\nexport default NewAdminPost;","import React, {useContext, useEffect, useState} from \"react\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport Input from \"../../shared/components/FormElements/Input/Input\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport {VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE} from \"../../shared/components/Utils/validators\";\r\nimport Card from \"../../shared/components/UIElements/Card/Card\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport {useForm} from \"../../shared/hooks/form-hook\";\r\n\r\nimport './PostForm.css';\r\nconst UpdateAdminPost = () => {\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const [loadedPost, setLoadedPost] = useState();\r\n    const postId = useParams().postId;\r\n    const auth = useContext(AuthContext)\r\n    const history = useHistory();\r\n\r\n    const [formState, inputHandler, setFormData] = useForm({\r\n        title: {\r\n            value: '',\r\n            isValid: true\r\n        },\r\n        description: {\r\n            value: '',\r\n            isValid: true\r\n        }\r\n    }, true)\r\n\r\n    const placeUpdateSubmitHandler = async event => {\r\n        event.preventDefault();\r\n        try {\r\n            await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/admin/post/${postId}`,\r\n                'PATCH',\r\n                JSON.stringify({\r\n                    title: formState.inputs.title.value,\r\n                    description : formState.inputs.description.value,\r\n                }),\r\n                {'Content-Type': 'application/json',\r\n                    Authorization: 'Bearer ' + auth.token}\r\n            )\r\n            history.push('/');\r\n        }catch (e) {\r\n\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchPost = async() => {\r\n            try {\r\n                const data = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/admin/post`);\r\n                setLoadedPost(data.posts[0])\r\n\r\n                setFormData(\r\n                    {\r\n                        title: {\r\n                            value: data.posts[0].title,\r\n                            isValid: true\r\n                        },\r\n                        description: {\r\n                            value: data.posts[0].description,\r\n                            isValid: true\r\n                        }\r\n                    },true)\r\n            }\r\n            catch (e) {\r\n\r\n            }\r\n        }\r\n        fetchPost();\r\n    },[setFormData, postId, sendRequest])\r\n\r\n\r\n    if(isLoading) {\r\n        return <div className=\"center\">\r\n            <LoadingSpinner/>\r\n        </div>\r\n    }\r\n\r\n    if(!loadedPost && !error){\r\n        return <div className=\"center\">\r\n            <Card>\r\n                <h2>Couldn't fetch post</h2>\r\n            </Card>\r\n        </div>\r\n    }\r\n\r\n\r\n\r\n    return <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError}/>\r\n        {!isLoading && loadedPost && <form className='place-form' onSubmit={placeUpdateSubmitHandler}>\r\n            <Input\r\n                id=\"title\"\r\n                element='input'\r\n                type='text'\r\n                label='Title'\r\n                validators={[VALIDATOR_REQUIRE()]}\r\n                onInput={inputHandler}\r\n                initialValue={loadedPost.title}\r\n                initialIsValid={true}\r\n                errorText=\"Please enter a valid title\"/>\r\n\r\n            <Input\r\n                id=\"description\"\r\n                element='textarea'\r\n                label='Description'\r\n                validators={[VALIDATOR_MINLENGTH(5)]}\r\n                onInput={inputHandler}\r\n                initialValue={loadedPost.description}\r\n                initialIsValid={true}\r\n                errorText=\"Please enter a valid description.\"/>\r\n\r\n            <Button type=\"submit\" disabled={!formState.isValid}>UPDATE POST</Button>\r\n        </form>}\r\n    </React.Fragment>\r\n\r\n}\r\n\r\nexport default UpdateAdminPost;","import React, {useState, useContext} from \"react\";\r\nimport Card from \"../../shared/components/UIElements/Card/Card\";\r\nimport Input from \"../../shared/components/FormElements/Input/Input\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport {useForm} from \"../../shared/hooks/form-hook\";\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport './Auth.css';\r\nimport {\r\n    VALIDATOR_EMAIL,\r\n    VALIDATOR_MINLENGTH,\r\n    VALIDATOR_REQUIRE\r\n} from \"../../shared/components/Utils/validators\";\r\nconst Auth = props => {\r\n    const auth = useContext(AuthContext);\r\n    const [isLogin, setIsLogin] = useState(true);\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n\r\n   const[formState, inputHandler, setFormData] = useForm({\r\n        email: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        password: {\r\n            value: '',\r\n            isValid: false\r\n        }\r\n    }, false)\r\n\r\n\r\n    const authSubmitHandler = async event => {\r\n       event.preventDefault();\r\n\r\n       if(isLogin) {\r\n           try {\r\n               const data = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/users/login`,\r\n                   'POST',\r\n                   JSON.stringify({\r\n                       email: formState.inputs.email.value,\r\n                       password: formState.inputs.password.value,\r\n                   }),\r\n                   {\r\n                       'Content-Type': 'application/json'\r\n                   }\r\n                   );\r\n\r\n               auth.login(data.userId, data.token, data.isAdmin);\r\n           } catch (e) {\r\n\r\n           }\r\n       }else {\r\n           try {\r\n                const data = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/users/signup`,\r\n                        'POST',\r\n                        JSON.stringify({\r\n                            name: formState.inputs.name.value,\r\n                            email: formState.inputs.email.value,\r\n                            password: formState.inputs.password.value,\r\n                        }),\r\n                          {\r\n                               'Content-Type': 'application/json'\r\n                           }\r\n                )\r\n               auth.login(data.userId, data.token, data.isAdmin);\r\n           }catch (e) {\r\n           }\r\n\r\n       }\r\n\r\n    };\r\n\r\n   const switchSignInHandler = event => {\r\n        if(!isLogin) {\r\n            setFormData({\r\n                ...formState.inputs,\r\n                    name: undefined\r\n                },\r\n                formState.inputs.email.isValid &&\r\n                formState.inputs.password.isValid)\r\n        }else {\r\n            setFormData({\r\n                ...formState.inputs,\r\n                name: {\r\n                    value: '',\r\n                    isValid: false\r\n                }\r\n            },false)\r\n        }\r\n\r\n        setIsLogin(prevMode=> !prevMode);\r\n   }\r\n\r\n    return <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError}/>\r\n        <Card className=\"authentication\">\r\n            {isLoading && <LoadingSpinner asOverlay={true}/>}\r\n            <h2> {isLogin ? 'LOGIN' : 'SIGN-UP'}</h2>\r\n            <hr/>\r\n            <form onSubmit={authSubmitHandler}>\r\n                {!isLogin &&\r\n                <Input\r\n                    id=\"name\"\r\n                    element='input'\r\n                    type='text'\r\n                    label='Full Name'\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    onInput={inputHandler}\r\n                    errorText=\"Please enter full name.\"/>\r\n                }\r\n                <Input\r\n                    id=\"email\"\r\n                    element='input'\r\n                    type='email'\r\n                    label='Email'\r\n                    validators={[VALIDATOR_EMAIL()]}\r\n                    onInput={inputHandler}\r\n                    errorText=\"Please enter a valid email.\"/>\r\n\r\n                <Input\r\n                    id=\"password\"\r\n                    element='input'\r\n                    type='password'\r\n                    label='Password'\r\n                    validators={[VALIDATOR_MINLENGTH(6)]}\r\n                    onInput={inputHandler}\r\n                    errorText=\"Please enter a valid password, at least 6 characters.\"/>\r\n                <Button\r\n                    type=\"submit\"\r\n                    disabled={!formState.isValid}>\r\n                    {isLogin ? 'LOGIN' : 'SIGN-UP'}\r\n                </Button>\r\n            </form>\r\n            <Button\r\n                inverse\r\n                onClick={switchSignInHandler}>\r\n                {isLogin ? 'SWITCH TO SIGN-UP' : 'SWITCH TO LOGIN'}\r\n            </Button>\r\n        </Card>\r\n    </React.Fragment>\r\n\r\n\r\n}\r\n\r\nexport default Auth;","import React from \"react\";\r\n\r\nimport './MainHeader.css';\r\n\r\nconst MainHeader = props => {\r\n    return <header className='main-header'>\r\n            {props.children}\r\n    </header>;\r\n}\r\n\r\nexport default MainHeader;","import React, {useContext} from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {AuthContext} from \"../../context/auth-context\";\r\n\r\nimport './NavLinks.css'\r\n\r\nconst NavLinks = props => {\r\n    const auth = useContext(AuthContext);\r\n\r\n    return <ul className=\"nav-links\">\r\n        <li>\r\n            <NavLink to=\"/\" exact>ALL POSTS</NavLink>\r\n        </li>\r\n        {auth.isLoggedIn && auth.isAdmin &&\r\n        <li>\r\n            <NavLink to={`/users`}>All USERS</NavLink>\r\n        </li>\r\n        }\r\n        {auth.isLoggedIn &&\r\n        <li>\r\n            <NavLink to={`/users/${auth.userId}`}>MY PROFILE</NavLink>\r\n        </li>\r\n        }\r\n        {auth.isLoggedIn &&\r\n        <li>\r\n            <NavLink to={`/${auth.userId}/posts`}>MY POSTS</NavLink>\r\n        </li>\r\n        }\r\n        {auth.isLoggedIn && !auth.isAdmin &&\r\n        <li>\r\n            <NavLink to=\"/posts/new\">ADD POST</NavLink>\r\n        </li>\r\n        }\r\n        {auth.isLoggedIn && auth.isAdmin &&\r\n        <li>\r\n            <NavLink to=\"/posts/new\">ADMIN POST</NavLink>\r\n        </li>\r\n        }\r\n        {auth.isLoggedIn &&\r\n        <li>\r\n            <button onClick={auth.logout}>LOGOUT</button>\r\n        </li>\r\n        }\r\n        {!auth.isLoggedIn &&\r\n        <li>\r\n            <NavLink to=\"/auth\">LOGIN</NavLink>\r\n        </li>\r\n        }\r\n\r\n    </ul>\r\n}\r\n\r\nexport default NavLinks;","import React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport {CSSTransition} from \"react-transition-group\";\r\n\r\nimport './SideDrawer.css'\r\n\r\n\r\nconst SideDrawer = props => {\r\n    const content =  (\r\n        <CSSTransition\r\n            in={props.show}\r\n            timeout={200}\r\n            classNames=\"slide-in-left\"\r\n            mountOnEnter\r\n            unmountOnExit>\r\n            <aside\r\n                className='side-drawer'\r\n                onClick={props.onClick}>\r\n                {props.children}\r\n            </aside>\r\n        </CSSTransition>\r\n    )\r\n\r\n    return ReactDOM.createPortal(content, document.getElementById(\"drawer-hook\"));\r\n}\r\n\r\nexport default SideDrawer;","import React, {useState} from \"react\";\r\nimport MainHeader from \"./MainHeader\";\r\nimport {Link} from \"react-router-dom\";\r\nimport NavLinks from \"./NavLinks\";\r\nimport SideDrawer from \"./SideDrawer\";\r\nimport Backdrop from \"../UIElements/Backdrop/Backdrop\";\r\nimport HoneIcon from '../../../assets/home.png';\r\nimport './MainNavigation.css';\r\n\r\n\r\nconst MainNavigation = props => {\r\n    const [drawerIsOpen, setDrawerIsOpen] = useState(false);\r\n    const openDrawer = () => {\r\n        setDrawerIsOpen(true);\r\n    }\r\n\r\n    const closeDrawer = () => {\r\n        setDrawerIsOpen(false);\r\n    }\r\n\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {drawerIsOpen && <Backdrop onClick={closeDrawer}/>}\r\n       <SideDrawer show={drawerIsOpen} onClick={closeDrawer}>\r\n                <nav className = 'main-navigation-drawer-nav'>\r\n                    <NavLinks/>\r\n                </nav>\r\n            </SideDrawer>\r\n            <MainHeader>\r\n                <button className = \"main-navigation-menu-btn\"\r\n                        onClick = {openDrawer}>\r\n                    <span/>\r\n                    <span/>\r\n                    <span/>\r\n                </button>\r\n                <h1 className = \"main-navigation-title\">\r\n                    <Link to = \"/\">\r\n                        <img src = {HoneIcon} alt={\"home\"}/>\r\n                    </Link>\r\n                </h1>\r\n                <nav className = \"main-navigation-header-nav\">\r\n                    <NavLinks/>\r\n                </nav>\r\n            </MainHeader>\r\n        </React.Fragment>\r\n\r\n        )\r\n\r\n\r\n}\r\n\r\nexport default MainNavigation;","import React from \"react\";\r\nimport UsersItem from \"./UsersItem\";\r\nimport Card from \"../../shared/components/UIElements/Card/Card\";\r\nimport './UsersList.css';\r\n\r\nconst UsersList = props => {\r\n    if(props.items.length === 0) {\r\n        return <div className='center'>\r\n            <Card>\r\n                <h2>No users found.</h2>\r\n            </Card>\r\n        </div>\r\n    }\r\n\r\n    return <ul className=\"users-list\">\r\n        {props.items.map(user => {\r\n            return <UsersItem\r\n                key={user.id}\r\n                id={user.id}\r\n                image={user.image}\r\n                name={user.name}\r\n                email={user.email}\r\n                postCount={user.posts.length}/>\r\n        })}\r\n    </ul>\r\n}\r\n\r\nexport default UsersList","import React, { useEffect, useState, useContext } from \"react\";\r\nimport UsersList from \"../components/UsersList\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\n\r\nconst Users = () => {\r\n  const auth = useContext(AuthContext);\r\n  const [loadedUsers, setLoadedUsers] = useState([]);\r\n  const [titleSearch, setTitleSearch] = useState(\"\");\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/users`,\r\n          \"GET\",\r\n          null,\r\n          { Authorization: \"Bearer \" + auth.token }\r\n        );\r\n        setLoadedUsers(data.users.filter((u) => u.id !== auth.userId));\r\n      } catch (e) {}\r\n    };\r\n    fetchUsers();\r\n  }, [sendRequest]);\r\n\r\n  const inputChangeHandler = (event) => {\r\n    console.log(\"change \", event.target.value);\r\n    setTitleSearch(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      {isLoading && (\r\n        <div className=\"center\">\r\n          <LoadingSpinner />\r\n        </div>\r\n      )}\r\n      {!isLoading && loadedUsers && (\r\n        <UsersList\r\n          items={loadedUsers.filter((u) => {\r\n            if (titleSearch) {\r\n              return u.name.includes(titleSearch);\r\n            } else {\r\n              return u;\r\n            }\r\n          })}\r\n        />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Redirect,\r\n  Switch,\r\n} from \"react-router-dom\";\r\nimport {AuthContext} from \"./shared/context/auth-context\";\r\nimport {useAuth} from \"./shared/hooks/auth-hook\";\r\nimport AllPosts from \"./posts/pages/AllPosts\";\r\nimport Profile from \"./users/pages/Profile\";\r\nimport UserPosts from \"./posts/pages/UserPosts\";\r\nimport NewPost from \"./posts/pages/NewPost\";\r\nimport UpdatePost from \"./posts/pages/UpdatePost\";\r\nimport UpdateUser from \"./users/pages/UpdateUser\";\r\nimport NewAdminPost from \"./posts/pages/NewAdminPost\";\r\nimport UpdateAdminPost from \"./posts/pages/UpdateAdminPost\";\r\nimport Auth from \"./users/pages/Auth\";\r\nimport MainNavigation from \"./shared/components/navigation/MainNavigation\";\r\nimport Users from \"./users/pages/Users\";\r\n\r\nconst App = () => {\r\n  const { token, login, logout, userId, isAdmin } = useAuth();\r\n\r\n  let routes;\r\n\r\n  if (token && !isAdmin) {\r\n    routes = (\r\n      <Switch>\r\n        <Route path=\"/\" exact={true}>\r\n          <AllPosts />\r\n        </Route>\r\n\r\n        <Route path=\"/users/:userId\">\r\n          <Profile />\r\n        </Route>\r\n\r\n        <Route path=\"/:userId/posts\">\r\n          <UserPosts />\r\n        </Route>\r\n\r\n        <Route path=\"/posts/new\" exact={true}>\r\n          <NewPost />\r\n        </Route>\r\n\r\n        <Route path=\"/posts/:postId\" exact={true}>\r\n          <UpdatePost />\r\n        </Route>\r\n\r\n        <Route path=\"/update/:userId\">\r\n          <UpdateUser />\r\n        </Route>\r\n\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    );\r\n  } else if (token && isAdmin) {\r\n    routes = (\r\n      <Switch>\r\n        <Route path=\"/\" exact={true}>\r\n          <AllPosts />\r\n        </Route>\r\n\r\n        <Route path=\"/users\" exact={true}>\r\n            <Users/>\r\n        </Route>\r\n\r\n        <Route path=\"/users/:userId\">\r\n          <Profile />\r\n        </Route>\r\n\r\n        <Route path=\"/:userId/posts\">\r\n          <UserPosts />\r\n        </Route>\r\n\r\n        <Route path=\"/posts/new\" exact={true}>\r\n          <NewAdminPost />\r\n        </Route>\r\n\r\n        <Route path=\"/posts/:postId\" exact={true}>\r\n          <UpdateAdminPost />\r\n        </Route>\r\n\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    );\r\n  } else {\r\n    routes = (\r\n      <Switch>\r\n        <Route path=\"/\" exact={true}>\r\n          <AllPosts />\r\n        </Route>\r\n\r\n        <Route path=\"/:userId/posts\">\r\n            <UserPosts />\r\n        </Route>\r\n\r\n        <Route path=\"/auth\" exact={true}>\r\n          <Auth />\r\n        </Route>\r\n\r\n        <Redirect to=\"/auth\" />\r\n      </Switch>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        isLoggedIn: !!token,\r\n        token: token,\r\n        userId,\r\n        isAdmin,\r\n        login,\r\n        logout,\r\n      }}\r\n    >\r\n      <Router>\r\n        <MainNavigation />\r\n        <main>{routes}</main>\r\n      </Router>\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}